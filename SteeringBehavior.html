<!DOCTYPE html>
<!--
	Helios by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
  <head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HP3BC6WFG5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HP3BC6WFG5');
</script>
    <title>Steering Behavior</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript
      ><link rel="stylesheet" href="assets/css/noscript.css"
    /></noscript>
  </head>
  <body class="no-sidebar is-preload">
    <div id="page-wrapper">
      <!-- Header -->
      <div id="header">
        <!-- Inner -->
        <div class="inner">
          <header>
            <h1><a href="index.html" id="logo">Enemy Class</a></h1>
          </header>
        </div>

        <!-- Nav -->
        <nav id="nav">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li>
              <a href="AIMenu.html">Game AI</a>
              <ul>
                <li><a href="SteeringBehavior.html">3D Enemy AI</a></li>
                <li><a href="GOAP.html">RTS-style AI</a></li>
                <li><a href="StateMachine.html">State Machine AI</a></li>
              </ul>
            </li>
            <li>
              <a href="ToolsMenu.html">Game Design Tools</a>
              <ul>
                <li><a href="WaveManager.html">Wave Manager</a></li>
                <li><a href="Navmesh.html">Navmesh Creation</a></li>
              </ul>
            </li>
            <li>
              <a href="OtherCode.html">Other Code</a>
              <ul>
                <li><a href="Raycasting.html">Screenspace Raycasting</a></li>
                <li><a href="Collision2D.html">2D Collision</a></li>
                <li><a href="PlayerMovement.html">Player Movement</a></li>
              </ul>
            </li>
            <li>
              <a href="#">Game Projects</a>
              <ul>
                <li><a href="BlackSite.html">BlackSite: Deep Horizon</a></li>
                <li><a href="OrderOfTheRoses.html">Order of the Roses</a></li>
                <li><a href="CarlOfDuty.html">Carl Off Duty</a></li>
                <li><a href="TheFlameWithin.html">The Flame Within</a></li>
              </ul>
            </li>
            <li><a href="Contact.html">Contact & CV</a></li>
          </ul>
        </nav>
      </div>

      <div class="wrapper style1">
        <div class="container">
          <article id="main" class="special">
              <p style="font-size: 1.5rem;">
                My enemy AI is built around a
                <strong>Behavior Tree system</strong> that handles
                decision-making for all enemy types. For movement, I rely on a
                variety of <strong>Steering Behaviors</strong> to create smooth
                and dynamic motion across the environment.
              </p>

            <section>

              
              <header>
                <h2>Steering Behaviors</h2>
              <a href="https://github.com/Hugonyberg/Portfolio/blob/main/Enemy/Steering/SteeringBehavior.h#L54" 
              target="_blank" 
              style="display: inline-flex; align-items: center; gap: 8px; padding: 4px 10px; background-color: #ff7b00; color: #000000; text-decoration: none; border-radius: 6px; font-family: sans-serif;">
              <svg height="20" width="20" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
                <path d="M8 0C3.58 0 0 3.58 0 8a8 8 0 0 0 5.47 7.59c.4.07.55-.17.55-.38 
                0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52
                -.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.5-1.07-1.78-.2
                -3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.01.08-2.11 0 0 .67-.21 2.2
                .82a7.64 7.64 0 0 1 2-.27c.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16
                1.91.08 2.11.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54
                1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
              </svg>
              View my Steering Behavior on GitHub
            </a>
              </header>
              <p>
                Aside from classic Seek, Arrival, and Separation, Iâ€™ve
                implemented three custom steering techniques that improve my AI
                movement:
              </p>
              <div class="row">
                <!-- Left Column: Text -->
                <div class="col-6 col-12-mobile">
                  <section>
                    <h3>Object Separation Steering</h3>
                    <p>
                      This behavior uses a series of <strong>short rays</strong> cast in fixed directions from the enemy.
                      These rays interact only with the <strong>environment</strong>, not other enemies.
                      The closer a ray hits an object, the stronger the steering force is applied away from it using a
                      <strong>lerped weighting system</strong>. This helps enemies avoid walls and tight spaces more naturally.
                    </p>
              
                    <h3>Navmesh Edge Steering</h3>
                    <p>
                      Ground enemies are nudged back toward the navmesh path if they start drifting.
                      This is made efficient through a <strong>gridded navmesh layout</strong>, allowing enemies to quickly
                      check if they're veering off course and stay aligned with the walkable areas.
                    </p>
              
                    <h3>Spread Steering</h3>
                    <p>
                      This behavior ensures that enemies don't stack in a straight line by applying horizontal and vertical
                      spacing between them. It creates more <strong>natural formation movement</strong> and reduces crowding.
                    </p>
              
                    <h3>Seek Steering</h3>
                    <p>
                      Seek behavior is used to move toward the next pathfinding point. Once close enough to the target,
                      the enemy increments to the next point in the path.
                    </p>
                  </section>
                </div>
              
                <!-- Right Column: Image -->
                <div class="col-6 col-12-mobile">
                  <br>
                  <h4><strong> Enemy Steering Update</strong></h4>
                  <span class="image fit">
                    <img src="images/Enemy/ReturnSteering.png" alt="Visual diagram of steering behaviors" />
                  </span>
                  <h4><strong> Object Separation Steering snippet</strong></h4>
                  <span class="image fit">
                    <img src="images/Enemy/RaySeparation.png" alt="Visual diagram of steering behaviors" />
                  </span>
                </div>
              </div>
          </section>

            <section>
              <header>
                <h2>Enemy Types</h2>
                
                <a href="https://github.com/Hugonyberg/Portfolio/blob/main/Enemy/Steering/SteeringBehavior.h#L54" 
                target="_blank" 
                style="display: inline-flex; align-items: center; gap: 8px; padding: 4px 10px; background-color: #ff7b00; color: #000000; text-decoration: none; border-radius: 6px; font-family: sans-serif;">
                <svg height="20" width="20" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
                  <path d="M8 0C3.58 0 0 3.58 0 8a8 8 0 0 0 5.47 7.59c.4.07.55-.17.55-.38 
                  0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52
                  -.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.5-1.07-1.78-.2
                  -3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.01.08-2.11 0 0 .67-.21 2.2
                  .82a7.64 7.64 0 0 1 2-.27c.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16
                  1.91.08 2.11.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54
                  1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                </svg>
                View my Enemy code on GitHub
              </a>
              </header>

              <h3>Ground Enemies</h3>
              <p>
                Ground units stay grounded using <strong>PhysX</strong>,
                sampling the Y-position from the terrain below. If the player is
                in their path to the defense target, they lunge to bite. When
                close to the defense point, they perform a final lunge to damage
                the target, <strong>sacrificing themselves</strong> in the
                process.
                <div class="row">
                  <article class="col-6 col-12-mobile special">
                    <a class="image featured">
                      <img src="videos/Enemy/GroundEnemyVisualisation_GIF.gif" alt="Ground Enemy Visualisation" />
                      <p><strong>Ground Enemy Logic in Action</strong></p>
                      <p>Note: The model animates away from its true position, causing a visual mismatch with its actual coordinates.</p>
                    </a>
                  </article>
                  <article class="col-6 col-12-mobile special">
                    <a class="image featured">
                      <img src="videos/Enemy/GroundDrillKilling_GIF.gif" alt="Ground Drill Kill Attack" />
                      <p><strong>Lunging to destroy the drill</strong></p>
                    </a>
                  </article>
                </div>
              </p>

              <h3>Flying Shooter</h3>
              <p>
                This enemy type uses a <strong>projectile pool</strong> and
                fires in a <strong>5-shot burst</strong>, alternating between
                left and right shots. If it sees the player or a defense target,
                it engages immediately. If the player hides, it searches the
                <strong>last known location</strong> for a limited time before
                resuming its path toward the defense point.
                <div class="row">
                  <article class="col-6 col-12-mobile special">
                    <a class="image featured">
                      <img src="videos/Enemy/ShooterVisualisation_GIF.gif" alt="Shooter Visualisation" />
                      <p><strong>Shooter movement and aiming logic</strong></p>
                    </a>
                  </article>
                  <article class="col-6 col-12-mobile special">
                    <a class="image featured">
                      <img src="videos/Enemy/ShooterDrillKilling_GIF.gif" alt="Shooter Debugging" />
                      <p><strong>Orbiting to destroy drill</strong></p>
                    </a>
                  </article>
                </div>
              </p>

              <h3>Flying Kamikaze</h3>
              <p>
                A drone-type enemy that seeks out the player or a defense point
                and <strong>explodes on impact</strong>. It uses the same
                visibility system as the shooter to determine when to engage.
                <div class="row">
                  <article class="col-6 col-12-mobile special">
                    <a class="image featured">
                      <img src="videos/Enemy/KamikazeVisualisation_GIF.gif" alt="Kamikaze Visualisation" />
                      <p><strong>Kamikaze Swarm visualization</strong></p>
                    </a>
                  </article>
                  <article class="col-6 col-12-mobile special">
                    <a class="image featured">
                      <img src="videos/Enemy/KamikazeDrillKilling_GIF.gif" alt="Kamikaze Drill Kill" />
                      <p><strong>Explosion impact on defense targets</strong></p>
                    </a>
                  </article>
                </div>
                
                <div class="row">
                  <article class="col-6 col-12-mobile special">
                    <a class="image featured">
                      <img src="videos/Enemy/KamikazeSwarmLargeGIF.gif" alt="Kamikaze Swarm Movement" />
                      <p><strong>Kamikaze with different parameters</strong></p>
                    </a>
                  </article>
                  <article class="col-6 col-12-mobile special">
                    <a class="image featured">
                      <img src="images/Enemy/EnemyUpdate.png" alt="Kamikaze Swarm Movement" />
                      <p><strong>Enemy Update Function</strong></p>
                    </a>
                  </article>
                </div>
              </p>
            </section>

            <section>
              <header>
                <h2>Enemy Management</h2>
              </header>

              <h3>Wave Manager</h3>
              <p>
                All enemies are controlled by a centralized
                <strong>WaveManager</strong>, which manages an
                <strong>EnemyPool</strong> based on the largest possible wave
                defined by our level designersâ€™ generated bin files. This
                ensures <strong>maximum reuse</strong> and efficiency. Read more about it <a href="WaveManager.html"><strong>here</strong></a> in Wave Manager.
              </p>
            </section>

            <section>
              <header>
                <h2>Debugging Tools</h2>
              </header>
              <p>
                Iâ€™ve implemented several tools to help visualize and debug enemy
                behavior in real-time:
              </p>
              <div class="row">
                <article class="col-6 col-12-mobile special">
                  <a class="image featured">
                    <img src="videos/Enemy/GroundDebug_GIF.gif" alt="Ground Debug Visualisation" />
                    <p><strong>Debug view of Ground Enemy</strong></p>
                  </a>
                </article>

                <article class="col-6 col-12-mobile special">
                  <a class="image featured">
                    <img src="videos/Enemy/KamikazeRaySteeringGIF.gif" alt="Ray-Based Steering" />
                    <p><strong>Object Separation Steering in use with debug rays</strong></p>
                  </a>
                </article>
              </div>
              
              <div class="row">
                <!-- Left Column: Debug Visualization Text -->
                <div class="col-6 col-12-mobile">
                    <h3>Path Rendering</h3>
                    <p>
                      Displays each enemyâ€™s current path and next target waypoint.
                    </p>
              
                    <h3>Velocity Vectors</h3>
                    <p>
                      Shows the <strong>direction and magnitude</strong> of each enemyâ€™s movement.
                    </p>
              
                    <h3>Steering Rays</h3>
                    <p>
                      Visualizes Object Separation rays.
                      <strong>Penetration depth</strong> is color-coded â€” the part penetrating a collider changes color.
                    </p>
              
                    <h3>Parameter Tweaking</h3>
                    <p>
                      I can dynamically adjust: <strong>Steering weights</strong>,
                      <strong>Arrival/Separation radius</strong>, <strong>Mass</strong>,
                      <strong>Speed</strong>, and <strong>Max Force</strong>.
                    </p>
              
                    <h3>Ray Presets</h3>
                    <p>
                      I can add or swap steering ray configurations on the fly using defined <strong>presets</strong>.
                    </p>
                </div>
              
                <!-- Right Column: GIF/Image -->
                <div class="col-6 col-12-mobile">
                  <span class="image fit">
                    <img src="videos/Enemy/AllSteeringRaysGIF.gif" alt="Ray-Based Steering" />
                    <p style="text-align:center; margin-top: 0.5em;"><strong>All Steering Ray presets added</strong></p>
                  </span>
                </div>
              </div>
            </section>

            <section>
              <header>
                <h2>Behavior Tree</h2>
                <a href="https://github.com/Hugonyberg/Portfolio/blob/main/Enemy/EnemyBehavior.h#L97" 
              target="_blank" 
              style="display: inline-flex; align-items: center; gap: 8px; padding: 4px 10px; background-color: #ff7b00; color: #000000; text-decoration: none; border-radius: 6px; font-family: sans-serif;">
              <svg height="20" width="20" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
                <path d="M8 0C3.58 0 0 3.58 0 8a8 8 0 0 0 5.47 7.59c.4.07.55-.17.55-.38 
                0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52
                -.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.5-1.07-1.78-.2
                -3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.01.08-2.11 0 0 .67-.21 2.2
                .82a7.64 7.64 0 0 1 2-.27c.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16
                1.91.08 2.11.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54
                1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
              </svg>
              View my Behavior Tree on GitHub
            </a>
              </header>
              <p>
                All enemies use a simple <strong>Behavior Tree</strong> to make
                decisions based on their current situation. This tree handles
                targeting, attacking, and fallback behaviors depending on what
                the enemy sees or senses.
              </p>

              <div class="row">
                <!-- Left Column: Behavior Tree Text -->
                <div class="col-6 col-12-mobile">
                  <section>
                    <h3>Player Visibility Check</h3>
                    <p>
                      The tree first checks if the player is visible. If true, the enemy transitions into an attack behavior using a
                      lunge, shooting, or explosion depending on the enemy type.
                    </p>
              
                    <h3>Static Defense Targeting</h3>
                    <p>
                      If the player isnâ€™t visible, the enemy checks for nearby <strong>static defense targets</strong>. If one is present,
                      the enemy attacks the structure instead.
                    </p>
              
                    <h3>Path Following</h3>
                    <p>
                      If neither the player nor a defense target is visible, the enemy follows its <strong>navmesh path</strong> using
                      steering behaviors until re-engaging.
                    </p>
              
                    <h3>Structure</h3>
                    <p>
                      The Behavior Tree is built using a <strong>Selector</strong> at the root, which evaluates child
                      <strong>Sequences</strong> in order. Each Sequence contains specific conditions and corresponding actions, ensuring
                      simple but <strong>responsive decision-making</strong>.
                    </p>
                  </section>
                </div>
              
                <!-- Right Column: Image -->
                <div class="col-6 col-12-mobile">
                  <br><br>
                  <span class="image fit">
                    <img src="images/Enemy/BehaviorTree.PNG" alt="Behavior Tree" />
                  </span>
                </div>
              </div>
              <br>
              <header><h2>Challenges and What I Learned</h2></header>
              <p>
                This was the first time I implemented an <strong>AI system for a 3D game</strong>, which in itself was a challenge. To make things even more difficult, I decided to go beyond the assignment requirements and create <strong>flying enemies</strong> instead of just ground-based ones. That decision brought a whole new layer of complexity I hadnâ€™t anticipated. One of the biggest struggles I faced was <strong>time</strong>. Since this was part of a school project, I couldnâ€™t dedicate all my attention to the AI systemâ€”I also had to handle <strong>environmental design</strong>, <strong>navmesh generation</strong>, and other <strong>gameplay-related features</strong>. As a result, development often got put on hold or had to be squeezed into shorter sessions. 
              </p>
              <p>
                Another challenge was ensuring that the game could handle a <strong>large number of active enemies</strong> at the same time. I wanted the player to face intense waves, but this pushed me to focus heavily on <strong>performance optimization</strong>. I eventually found that <strong>gridding the navmesh</strong> helped tremendously when managing access for over <strong>100 enemies in a single frame</strong>. It reduced lookup times and helped the AI run more smoothly.
              </p>
              <p>
                Through this process, I learned a lot about the <strong>limitations and design considerations of flying AI</strong>. If I were to build something similar again, I would implement a <strong>full 3D grid</strong> instead of relying on steering toward targets and avoiding obstacles in 2D. While that simpler approach worked for this <strong>tower defense-style game</strong>, it didnâ€™t handle every situation perfectlyâ€”especially when enemies risked getting stuck.
              </p>
              <p>
                I also discovered the value of <strong>behavior trees</strong> for structuring enemy logic. They offered a <strong>clean and scalable</strong> way to organize actions and decisions. However, I underestimated the time needed to build a <strong>well-thought-out tree</strong>. In retrospect, I wouldâ€™ve liked to explore more <strong>complex behavior flows</strong>, with additional decision layers and dynamic reactions built directly into the tree.
              </p>
              <p>
                Despite the challenges, this project gave me a deeper understanding of how to build <strong>AI that performs well in real-time environments</strong>, especially under <strong>performance and time constraints</strong>.
              </p>
              <br>
              <button onclick="history.back()">Go Back</button>
            </section>
          </article>
        </div>
      </div>

      <!-- Footer -->
      <div id="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <!-- Contact -->
              <section class="contact">
                <header>
                  <h3>Want to get in touch?</h3>
                </header>
                <p>
                  Feel free to reach out through any of the platforms below, or
                  visit my
                  <a href="contact.html"><strong>Contact Page</strong></a>
                </p>
                <ul class="icons">
                  <li>
                    <a
                      href="#"
                      onclick="navigator.clipboard.writeText('HugoNyberg#1234'); alert('Discord tag copied!');"
                      class="icon brands alt fa-discord"
                      ><span class="label">Discord</span></a
                    >
                  </li>
                  <li>
                    <a
                      href="https://www.linkedin.com/in/hugo-nyberg-9b678a15b/"
                      class="icon brands fa-linkedin-in"
                      target="_blank"
                      rel="noopener noreferrer"
                    >
                      <span class="label">Linkedin</span></a
                    >
                  </li>
                  <li>
                    <a href="contact.html" class="icon solid alt fa-envelope">
                      <span class="label">Email</span>
                    </a>
                  </li>
                </ul>
              </section>

              <!-- Copyright -->
              <div class="copyright">
                <ul class="menu">
                  <li>&copy; Hugo Nyberg. All rights reserved.</li>
                  <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.dropotron.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
  </body>
</html>
