<!DOCTYPE html>
<!--
	Helios by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-HP3BC6WFG5"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-HP3BC6WFG5");
    </script>
    <title>Navmesh</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript
      ><link rel="stylesheet" href="assets/css/noscript.css"
    /></noscript>
  </head>
  <body class="no-sidebar is-preload">
    <div id="page-wrapper">
      <!-- Header -->
      <div id="header">
        <!-- Inner -->
        <div class="inner">
          <header>
            <h1><a href="index.html" id="logo">Navmesh</a></h1>
          </header>
        </div>

        <!-- Nav -->
        <nav id="nav">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li>
              <a href="AIMenu.html">Game AI</a>
              <ul>
                <li><a href="SteeringBehavior.html">3D Enemy AI</a></li>
                <li><a href="GOAP.html">RTS-style AI</a></li>
                <li><a href="StateMachine.html">State Machine AI</a></li>
              </ul>
            </li>
            <li>
              <a href="ToolsMenu.html">Game Design Tools</a>
              <ul>
                <li><a href="WaveManager.html">Wave Manager</a></li>
                <li><a href="Navmesh.html">Navmesh Creation</a></li>
              </ul>
            </li>
            <li>
              <a href="OtherCode.html">Other Code</a>
              <ul>
                <li><a href="Raycasting.html">Screenspace Raycasting</a></li>
                <li><a href="Collision2D.html">2D Collision</a></li>
                <li><a href="PlayerMovement.html">Player Movement</a></li>
              </ul>
            </li>
            <li>
              <a href="#">Game Projects</a>
              <ul>
                <li><a href="BlackSite.html">BlackSite: Deep Horizon</a></li>
                <li><a href="OrderOfTheRoses.html">Order of the Roses</a></li>
                <li><a href="CarlOfDuty.html">Carl Off Duty</a></li>
                <li><a href="TheFlameWithin.html">The Flame Within</a></li>
              </ul>
            </li>
            <li><a href="Contact.html">Contact & CV</a></li>
          </ul>
        </nav>
      </div>

      <div class="wrapper style1">
        <div class="container">
          <div class="row gtr-200"></div>

          <article id="main" class="special">
            <header>
              <p>
                Navmesh Creation Tool for building and/or importing Navmeshes
                via Recast Library.
              </p>
            </header>

            <section>
              <header>
                <h2>Navmesh Creation Tool for Our Game Engine</h2>
              </header>
              <p>
                My Navmesh Creation Tool is designed to generate navigation
                meshes within our game engine, integrating the Recast Library to
                create and manage navigable surfaces. The tool allows us to
                import and regenerate a navmesh from FBX or OBJ files while
                maintaining the same parameters and processing techniques that
                Recast uses.
              </p>
              <p>
                By leveraging this tool, we can ensure dynamic and efficient
                navigation for player and AI-controlled characters while
                optimizing performance.
              </p>
            </section>

            <section>
              <header>
                <h2>Understanding the Navmesh Representations</h2>
              </header>
              <p>Our system utilizes two different types of navmeshes:</p>

              <div class="row">
                <article class="col-6 col-12-mobile special">
                  <header>
                    <h3>Polymesh (Simplified Navmesh)</h3>
                  </header>
                  <a class="image featured">
                    <img
                      src="images/Navmesh/NavmeshPoly.jpg"
                      alt="Polymesh View"
                    />
                  </a>
                  <p><strong>Optimized for efficient pathfinding.</strong></p>
                  <p>
                    The Polymesh is a lower-detail version of the navmesh,
                    created by simplifying the Detailed Navmesh into a more
                    optimized convex polygon representation. This representation
                    is lighter and better suited for AI pathfinding, reducing
                    computational overhead. Our pathfinding logic operates on
                    this version, allowing AI to efficiently calculate paths
                    through the game world.
                  </p>
                </article>

                <article class="col-6 col-12-mobile special">
                  <header>
                    <h3>Detailed Navmesh</h3>
                  </header>
                  <a class="image featured">
                    <img
                      src="images/Navmesh/NavmeshDetailed.jpg"
                      alt="Detailed Navmesh View"
                    />
                  </a>
                  <p><strong>Provides precise height information.</strong></p>
                  <p>
                    The Detailed Navmesh preserves fine-grained height
                    variations, which allows for smooth movement adaptation to
                    the terrain. This is crucial for getting the Y (vertical)
                    position of characters to ensure they remain aligned with
                    the actual walkable surface. It consists of high-resolution
                    triangles that closely match the original geometry.
                  </p>
                </article>
              </div>
            </section>

            <section>
              <header>
                <h2>How We Use Both Representations</h2>
              </header>
              <p>
                <strong>Character Y-Positioning:</strong> Since the Polymesh
                lacks height precision, we retrieve the Y-coordinate from the
                Detailed Navmesh.
              </p>
              <p>
                <strong>Pathfinding:</strong> Player & AI agents use the
                Polymesh for fast navigation while maintaining proper height
                alignment using the Detailed Navmesh.
              </p>
              <a
                href="https://github.com/Hugonyberg/Portfolio/blob/main/Navmesh/NavmeshCreationTool.cpp#L941"
                target="_blank"
                style="
                  display: inline-flex;
                  align-items: center;
                  gap: 8px;
                  padding: 4px 10px;
                  background-color: #ff7b00;
                  color: #000000;
                  text-decoration: none;
                  border-radius: 6px;
                  font-family: sans-serif;
                "
              >
                <svg
                  height="20"
                  width="20"
                  viewBox="0 0 16 16"
                  fill="currentColor"
                  aria-hidden="true"
                >
                  <path
                    d="M8 0C3.58 0 0 3.58 0 8a8 8 0 0 0 5.47 7.59c.4.07.55-.17.55-.38 
             0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52
             -.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.5-1.07-1.78-.2
             -3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.01.08-2.11 0 0 .67-.21 2.2
             .82a7.64 7.64 0 0 1 2-.27c.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16
             1.91.08 2.11.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54
             1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8z"
                  />
                </svg>
                View my Navmesh Creation Tool on GitHub
              </a>
            </section>

            <section>
              <article class="col-12 special">
                <header>
                  <h3>Pathfinding using Raycast for Position</h3>
                </header>
                <a class="image featured">
                  <img
                    src="videos/Navmesh/UsingRayCastAndPathfindingGIF.gif"
                    alt="Pathfinding GIF"
                  />
                </a>
              </article>

              <article class="col-12 special">
                <header>
                  <h3>Creating and Live-Tweaking of Navmesh</h3>
                </header>
                <p>
                  By integrating the Recast library, I now have the option of
                  tweaking all the variables and with the visualization of this
                  I've been able to debug and generate a new navmesh more
                  fitting to our engine/game world.
                </p>
                <a class="image featured">
                  <img
                    src="videos/Navmesh/ShowLiveTweakableGIF.gif"
                    alt="Navmesh Tweak GIF"
                  />
                </a>
              </article>

              <article class="col-12 special">
                <header>
                  <h3>Navmesh Grid</h3>
                </header>
                <p>
                  By integrating a Grid from the Navmesh min and max bounds,
                  getting information from the Navmesh is now quicker and
                  cheaper.
                </p>
                <a class="image featured">
                  <img
                    src="videos/Navmesh/NavmeshGridGIF.gif"
                    alt="Navmesh Grid GIF"
                  />
                </a>
              </article>
              <section>
                <header><h2>Challenges and What I Learned</h2></header>
                <p>
                  This was the first time we had to work with a
                  <strong>3D navmesh</strong> in our projects—until now, we had
                  only used simple 2D pathfinding. We had heard from previous
                  students that Unity’s built-in navmesh system could be
                  unreliable, especially when generating complex meshes. Because
                  of that, our group decided to integrate the open-source
                  <strong>Recast library</strong> instead.
                </p>
                <p>
                  One of the first major challenges was simply
                  <strong>understanding the Recast library</strong>. It's a
                  large and powerful tool, but it includes far more
                  functionality than we needed. This meant spending a lot of
                  time reading through documentation and examples just to figure
                  out what we could safely ignore. Once I understood the basics,
                  I was able to
                  <strong>integrate the solo mesh generation</strong> into our
                  engine with the help of the Recast demo and some guidance from
                  our teachers.
                </p>
                <p>
                  My first real struggle came when I noticed that the
                  <strong>unit system</strong> used by Recast didn’t match our
                  engine. Recast (and most similar libraries) assumes 1 unit
                  equals 1 meter, but our engine uses
                  <strong>centimeters</strong>. This caused strange generation
                  results and long build times, which I initially didn’t
                  understand. After some research, I realized I had to scale all
                  the mesh vertices by <strong>0.01</strong> using a scaling
                  matrix. Once that was done, the navmesh generation became both
                  faster and much more accurate.
                </p>
                <p>
                  After getting the mesh generation working properly, I worked
                  closely with my teammate <strong>Thea Nilsson</strong> to
                  design a custom struct that simplified the Recast navmesh into
                  a format we were familiar with. This made it easier for her to
                  implement the <strong>pathfinding logic</strong>, while I
                  focused on data conversion and making the navmesh renderable
                  for debugging. You can see the full structure and usage in my
                  GitHub repository.
                </p>
                <p>
                  Another unexpected challenge was the difference between
                  Recast’s
                  <strong>poly mesh</strong> and <strong>detailed mesh</strong>.
                  At first, we only used the poly mesh for pathfinding, which
                  worked well in terms of navigation. However, we ran into
                  issues with <strong>inaccurate height data</strong>—in some
                  places, it looked fine, but in others it caused visual
                  glitches for the enemies and player. Without access to a
                  physics system, I had to dig deeper into Recast and eventually
                  integrated the detailed mesh data into our system. That gave
                  us far better results, and Thea was then able to extract more
                  accurate height information for the player character and AI.
                </p>
                <p>
                  Overall, I’ve learned a lot about working with
                  <strong>large external libraries</strong>, how to identify and
                  isolate the parts you need, and how to
                  <strong>debug complex systems</strong> like navmesh generation
                  by rendering and visual feedback. This experience gave me a
                  much deeper understanding of how navmesh systems really work
                  under the hood.
                </p>
              </section>
              <button onclick="history.back()">Go Back</button>
            </section>
          </article>
        </div>
      </div>

      <!-- Footer -->
      <div id="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <!-- Contact -->
              <section class="contact">
                <header>
                  <h3>Want to get in touch?</h3>
                </header>
                <p>
                  Feel free to reach out through any of the platforms below, or
                  visit my
                  <a href="contact.html"><strong>Contact Page</strong></a>
                </p>
                <ul class="icons">
                  <li>
                    <a
                      href="#"
                      onclick="navigator.clipboard.writeText('HugoNyberg#1234'); alert('Discord tag copied!');"
                      class="icon brands alt fa-discord"
                      ><span class="label">Discord</span></a
                    >
                  </li>
                  <li>
                    <a
                      href="https://www.linkedin.com/in/hugo-nyberg-9b678a15b/"
                      class="icon brands fa-linkedin-in"
                      target="_blank"
                      rel="noopener noreferrer"
                    >
                      <span class="label">Linkedin</span></a
                    >
                  </li>
                  <li>
                    <a href="contact.html" class="icon solid alt fa-envelope">
                      <span class="label">Email</span>
                    </a>
                  </li>
                </ul>
              </section>

              <!-- Copyright -->
              <div class="copyright">
                <ul class="menu">
                  <li>&copy; Hugo Nyberg. All rights reserved.</li>
                  <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.dropotron.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
  </body>
</html>
